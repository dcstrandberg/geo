<div id="distance"> 
    <h1 id="demo">{{$ctrl.me.name}}: 
        {{$ctrl.me.geo.lat | number:2}}&deg;N, 
        {{$ctrl.me.geo.long | number:2}}&deg;W
    </h1>
    <h1>{{$ctrl.error}}</h1>
</div>
    
<!--<ul ng-repeat="currentUser in $ctrl.distances" ng-show="$ctrl.loggedInUser" id="distList-container">-->
    <ul ng-show="$ctrl.loggedInUser" id="distList-container">
        <li ng-repeat="user in $ctrl.distances | orderBy:'distance'" class="distList" ng-show="$ctrl.on" ng-class="{matched: user.matched}">
            <input type="checkbox" 
                ng-checked="user.matched"   
                ng-click="$ctrl.matchUser(user)"
            />
            <h3>
                <a ui-sref="userDetails({ userId: user.UID })">
                    {{user.name}}: {{user.distance | number:1}} km
                </a> 
            </h3>                    
            <last-updated updated="user.lastActive"></last-updated>
        </li>
    </ul>
<!--</ul>-->

<div id="buttonbar">
<button id="on" ng-class="{active: $ctrl.on}" ng-click="$ctrl.compassOn()">On</button>
<button id="off" ng-class="{active: !($ctrl.on)}" ng-click="$ctrl.compassOff()">Off</button>
</div>
